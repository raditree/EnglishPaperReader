# ğŸ“š Paper Reading While English Learning - æŠ€æœ¯æ–‡æ¡£

> **ç‰ˆæœ¬**: v1.0.0  
> **ä½œè€…**: [raditree](https://github.com/raditree)  
> **å¼€æºåè®®**: [MIT License](../LICENSE)  
> **æœ€åæ›´æ–°**: 2026-02-07

---

## ğŸ“‘ æ–‡æ¡£ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#ä¸€é¡¹ç›®æ¦‚è¿°)
2. [ç³»ç»Ÿæ¶æ„](#äºŒç³»ç»Ÿæ¶æ„)
3. [ç‰ˆæœ¬å†å²](#ä¸‰ç‰ˆæœ¬å†å²)
4. [åŠŸèƒ½ç‰¹æ€§](#å››åŠŸèƒ½ç‰¹æ€§)
5. [API æ¥å£æ–‡æ¡£](#äº”api-æ¥å£æ–‡æ¡£)
6. [ä½¿ç”¨æŒ‡å—](#å…­ä½¿ç”¨æŒ‡å—)
7. [å¼€å‘è§„èŒƒ](#ä¸ƒå¼€å‘è§„èŒƒ)
8. [éƒ¨ç½²æŒ‡å—](#å…«éƒ¨ç½²æŒ‡å—)
9. [æ•…éšœæ’æŸ¥](#ä¹æ•…éšœæ’æŸ¥)

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹

**Paper Reading While English Learning** æ˜¯ä¸€ä¸ªç»“åˆ arXiv è®ºæ–‡é˜…è¯»ä¸è‹±è¯­å­¦ä¹ çš„ Web åº”ç”¨ç¨‹åºã€‚å®ƒé€šè¿‡é›†æˆ PDF.js é˜…è¯»å™¨ã€ECDICT è‹±æ±‰è¯å…¸å’Œå­¦ä¹ ç»Ÿè®¡ç³»ç»Ÿï¼Œä¸ºç”¨æˆ·æä¾›æ²‰æµ¸å¼çš„å­¦æœ¯é˜…è¯»ä½“éªŒï¼ŒåŒæ—¶è®°å½•å’Œè¿½è¸ªç”¨æˆ·çš„è‹±è¯­è¯æ±‡å­¦ä¹ è¿›åº¦ã€‚

### 1.2 æ ¸å¿ƒåŠŸèƒ½

- **è®ºæ–‡é˜…è¯»**: åŸºäº PDF.js çš„ Web ç«¯ PDF é˜…è¯»å™¨ï¼Œæ”¯æŒæŠ¤çœ¼æ¨¡å¼
- **åˆ’è¯ç¿»è¯‘**: åŸºäº ECDICT çš„æœ¬åœ°è‹±æ±‰è¯å…¸ï¼ˆ50ä¸‡+å•è¯ï¼‰ï¼Œæ”¯æŒç‚¹å‡»å³è¯‘
- **å­¦ä¹ ç»Ÿè®¡**: å®æ—¶è®°å½•é˜…è¯»æ—¶é•¿ã€å•è¯æŸ¥è¯¢ï¼Œæ”¯æŒè‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿å¤ä¹ 
- **è‡ªåŠ¨è·å–**: åå°æ¯6å°æ—¶è‡ªåŠ¨ä» arXiv RSS è·å–æœ€æ–°è®ºæ–‡

### 1.3 æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | PDF.js 3.11.174, Chart.js 4.x, HTML5, CSS3, JavaScript |
| åç«¯ | Python 3.8+, Flask 2.0+ |
| æ•°æ®åº“ | SQLite3 (ecdict.db, reading_stats.db) |
| å¤–éƒ¨API | arXiv API |

### 1.4 è¿è¡Œç¯å¢ƒ

- **æ“ä½œç³»ç»Ÿ**: Windows, macOS, Linux
- **Python**: 3.8+
- **æµè§ˆå™¨**: Chrome, Firefox, Edge (æ”¯æŒ ES6+)

---

## äºŒã€ç³»ç»Ÿæ¶æ„

### 2.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯å±‚ (Frontend)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  reader.htmlâ”‚  â”‚  stats.html â”‚  â”‚  CSS/JS             â”‚  â”‚
â”‚  â”‚  é˜…è¯»å™¨ç•Œé¢  â”‚  â”‚  ç»Ÿè®¡ç•Œé¢   â”‚  â”‚  æ ·å¼ä¸äº¤äº’          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API å±‚ (Flask Routes)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  /api/paper â”‚  â”‚ /api/translateâ”‚  â”‚  /api/stats/*     â”‚  â”‚
â”‚  â”‚  è®ºæ–‡æœåŠ¡    â”‚  â”‚  ç¿»è¯‘æœåŠ¡    â”‚  â”‚  ç»Ÿè®¡æœåŠ¡          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â””â”€â”€ routes.py                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚ (Services)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ArxivDownloaderâ”‚  â”‚ BatchTranslatorâ”‚  â”‚ DatabaseManagerâ”‚  â”‚
â”‚  â”‚  arXivä¸‹è½½   â”‚  â”‚ æ‰¹é‡ç¿»è¯‘å™¨   â”‚  â”‚  æ•°æ®åº“ç®¡ç†        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   ECDict    â”‚  â”‚ ArxivRSSFetcherâ”‚  â”‚  StatsService    â”‚  â”‚
â”‚  â”‚  è¯å…¸æŸ¥è¯¢    â”‚  â”‚  RSSè·å–å™¨   â”‚  â”‚  ç»Ÿè®¡æœåŠ¡          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚ (Data Layer)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ecdict.db  â”‚  â”‚reading_statsâ”‚  â”‚   PDF Files         â”‚  â”‚
â”‚  â”‚  è¯å…¸æ•°æ®åº“  â”‚  â”‚    .db      â”‚  â”‚   è®ºæ–‡æ–‡ä»¶         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ–‡ä»¶ç»“æ„ (v1.0.0 æ¨¡å—åŒ–æ¶æ„)

```
paper_reader/
â”œâ”€â”€ __init__.py              # åŒ…åˆå§‹åŒ–
â”œâ”€â”€ app.py                   # åº”ç”¨å…¥å£ï¼ˆç²¾ç®€ç‰ˆï¼Œ40è¡Œï¼‰
â”œâ”€â”€ config.py                # é…ç½®ç®¡ç†
â”œâ”€â”€ constants.py             # å¸¸é‡å®šä¹‰ï¼ˆarXivåˆ†ç±»ç­‰ï¼‰
â”œâ”€â”€ utils.py                 # å·¥å…·å‡½æ•°å’Œè£…é¥°å™¨
â”œâ”€â”€ database.py              # æ•°æ®åº“ç®¡ç†ï¼ˆDatabaseManagerï¼‰
â”œâ”€â”€ downloaders.py           # arXivä¸‹è½½å™¨ï¼ˆArxivDownloaderï¼‰
â”œâ”€â”€ translators.py           # ç¿»è¯‘æ¨¡å—
â”œâ”€â”€ routes.py                # APIè·¯ç”±ï¼ˆæ‰€æœ‰HTTPæ¥å£ï¼‰
â”œâ”€â”€ stats_service.py         # ç»Ÿè®¡æœåŠ¡å’Œåå°ä»»åŠ¡
â”œâ”€â”€ batch_translator.py      # æ‰¹é‡ç¿»è¯‘å™¨ï¼ˆå¸¦ç¼“å­˜ï¼‰
â”œâ”€â”€ get_passage.py           # RSSè·å–å™¨ï¼ˆArxivRSSFetcherï¼‰
â”œâ”€â”€ translate.py             # ECDictè¯å…¸å·¥å…·
â”œâ”€â”€ templates/               # HTMLæ¨¡æ¿
â”‚   â”œâ”€â”€ reader.html          # é˜…è¯»å™¨é¡µé¢ï¼ˆPDF.jsï¼‰
â”‚   â””â”€â”€ stats.html           # ç»Ÿè®¡é¡µé¢ï¼ˆChart.jsï¼‰
â”œâ”€â”€ static/                  # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â”œâ”€â”€ reader.css
â”‚   â”‚   â””â”€â”€ stats.css
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ reader.js        # PDFé˜…è¯»å™¨é€»è¾‘
â”‚       â””â”€â”€ stats.js         # ç»Ÿè®¡å›¾è¡¨é€»è¾‘
â”œâ”€â”€ db/                      # SQLiteæ•°æ®åº“
â”‚   â””â”€â”€ reading_stats.db     # å­¦ä¹ ç»Ÿè®¡æ•°æ®
â”œâ”€â”€ pdfs/                    # PDFæ–‡ä»¶å­˜å‚¨
â”‚   â””â”€â”€ {category}/          # æŒ‰åˆ†ç±»å­˜å‚¨
â”œâ”€â”€ log/                     # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ ecdict.db                # è¯å…¸æ•°æ®åº“
```

### 2.3 æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 2.3.1 app.py
**èŒè´£**: Flaskåº”ç”¨ä¸»å…¥å£ï¼Œä»£ç ç²¾ç®€è‡³40è¡Œ

**ç‰¹ç‚¹**:
- ä»…è´Ÿè´£å¯åŠ¨åº”ç”¨å’Œåˆå§‹åŒ–é…ç½®
- åŸ1806è¡Œä»£ç å·²æ‹†åˆ†åˆ°å„æ¨¡å—
- æ”¯æŒ `--fetch` å‚æ•°å¯ç”¨åå°è®ºæ–‡è·å–

```python
from routes import app
from stats_service import start_background_services, start_main_server

if __name__ == "__main__":
    enable_background_fetch = "--fetch" in sys.argv
    start_background_services(enable_fetch=enable_background_fetch)
    start_main_server()
```

#### 2.3.2 config.py
**èŒè´£**: é›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®å‚æ•°

```python
CONFIG = {
    "READER_PORT": 8603,              # é˜…è¯»å™¨ç«¯å£
    "STATS_PORT": 8605,               # ç»Ÿè®¡é¡µé¢ç«¯å£
    "DB_PATH": "db/reading_stats.db", # å­¦ä¹ ç»Ÿè®¡æ•°æ®åº“
    "PDF_DIR": "pdfs",                # PDFå­˜å‚¨ç›®å½•
    "LOG_DIR": "log",                 # æ—¥å¿—ç›®å½•
}

FETCHER_CONFIG = {
    "delay": 5,                       # RSSè¯·æ±‚é—´éš”ï¼ˆç§’ï¼‰
    "download_pdf": True,             # æ˜¯å¦è‡ªåŠ¨ä¸‹è½½PDF
    "pdf_dir": "pdfs"
}
```

#### 2.3.3 database.py
**èŒè´£**: æ•°æ®åº“ç®¡ç†å™¨ (DatabaseManager)

**æ ¸å¿ƒåŠŸèƒ½**:
- æ•°æ®åº“åˆå§‹åŒ–å’Œè¿ç§»ï¼ˆè‡ªåŠ¨æ·»åŠ æ–°åˆ—ï¼‰
- CRUDæ“ä½œå°è£…
- ç»Ÿè®¡æŸ¥è¯¢æ¥å£ï¼ˆæ”¯æŒ8ç§æŸ¥è¯¢ç±»å‹ï¼‰

**æ•°æ®åº“è¡¨ç»“æ„**:
- `papers` - è®ºæ–‡ä¿¡æ¯è¡¨
- `word_queries` - å•è¯æŸ¥è¯¢è®°å½•
- `reading_sessions` - é˜…è¯»ä¼šè¯
- `daily_stats` - æ¯æ—¥ç»Ÿè®¡
- `word_mastery` - å•è¯æŒæ¡åº¦ï¼ˆ0-5çº§ï¼‰
- `familiar_words` - ç†Ÿè¯è¡¨

#### 2.3.4 downloaders.py
**èŒè´£**: arXivè®ºæ–‡ä¸‹è½½å™¨ (ArxivDownloader)

**åŠŸèƒ½**:
- `search_papers()` - æœç´¢è®ºæ–‡
- `get_paper_by_id()` - é€šè¿‡IDè·å–è®ºæ–‡
- `download_pdf()` - ä¸‹è½½PDFï¼ˆæ”¯æŒå¤‡ç”¨ä¸‹è½½æ–¹æ¡ˆï¼‰
- `get_latest_papers()` - è·å–æœ€æ–°è®ºæ–‡

**ç‰¹æ€§**:
- æ”¯æŒSSLè¯ä¹¦å¤„ç†
- å¤‡ç”¨ä¸‹è½½æ–¹æ¡ˆï¼ˆrequestsï¼‰
- è‡ªåŠ¨åˆ†ç±»å­˜å‚¨

#### 2.3.5 routes.py
**èŒè´£**: APIè·¯ç”±å®šä¹‰ï¼ˆæ‰€æœ‰HTTPæ¥å£ï¼‰

**è·¯ç”±åˆ†ç±»**:

| ç±»åˆ« | è·¯ç”± | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|------|
| é¡µé¢ | `/` | GET | é˜…è¯»å™¨ä¸»é¡µé¢ |
| é¡µé¢ | `/stats` | GET | ç»Ÿè®¡é¡µé¢ |
| è®ºæ–‡ | `/api/papers` | GET | è·å–æœ¬åœ°è®ºæ–‡åˆ—è¡¨ |
| è®ºæ–‡ | `/api/papers/search` | POST | æœç´¢è®ºæ–‡ |
| è®ºæ–‡ | `/api/papers/download` | POST | ä¸‹è½½è®ºæ–‡ |
| ç¿»è¯‘ | `/api/translate` | POST | ç¿»è¯‘å•è¯ |
| ç¿»è¯‘ | `/api/translate/batch` | POST | æ‰¹é‡ç¿»è¯‘ |
| ç»Ÿè®¡ | `/api/stats/<type>` | GET | ç»Ÿè®¡æŸ¥è¯¢ |
| ä¼šè¯ | `/api/session/start` | POST | å¼€å§‹é˜…è¯»ä¼šè¯ |
| ä¼šè¯ | `/api/session/end` | POST | ç»“æŸé˜…è¯»ä¼šè¯ |
| ç”¨æˆ· | `/api/user/reset` | POST | é‡ç½®ç”¨æˆ·æ•°æ® |
| ç”¨æˆ· | `/api/user/import-familiar` | POST | å¯¼å…¥ç†Ÿè¯ |

---

## ä¸‰ã€ç‰ˆæœ¬å†å²

### v2.0.0 (2026-02-07)

#### ä¸»è¦æ›´æ–°

**1. è®ºæ–‡é€‰æ‹©ç•Œé¢é‡æ„**
- ç§»é™¤å¯åŠ¨æ—¶è‡ªåŠ¨ä¸‹è½½PDF
- ä¸‹æ‹‰æ¡†æ”¹ä¸ºæ¨¡æ€çª—å£ï¼Œæ”¯æŒæ‹–åŠ¨å’Œæ”¹å˜å¤§å°
- ä¸°å¯Œçš„è®ºæ–‡ä¿¡æ¯å±•ç¤ºï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æ‘˜è¦ã€çŠ¶æ€ï¼‰
- æ”¯æŒæœç´¢æ¡†ï¼ˆæŒ‰è®ºæ–‡IDæœç´¢ï¼‰
- æ”¯æŒå¤šç»´åº¦ç­›é€‰ï¼ˆæ—¶é—´ã€å·²è¯»çŠ¶æ€ã€åˆ†ç±»ã€ä½œè€…ï¼‰
- æ–°å¢"æœ€æ–°è®ºæ–‡"æ ‡ç­¾é¡µ
- ä¸‰ä¸ªæ ‡ç­¾é¡µï¼šæœ¬åœ°è®ºæ–‡ã€æœ€æ–°è®ºæ–‡ã€æœç´¢è®ºæ–‡

**2. ç¿»è¯‘äº¤äº’æ–¹å¼æ”¹è¿›**
- ç‚¹å‡»å•è¯ç›´æ¥ç¿»è¯‘ï¼ˆä¿ç•™ Ctrl+M / âŒ˜+M å¿«æ·é”®ï¼‰
- è¢«ç‚¹å‡»çš„å•è¯æœ‰é«˜äº®æ•ˆæœ
- æå‰æ‰¹é‡æŸ¥è¯¢å¹¶ç¼“å­˜ï¼ŒåŠ å¿«ç¿»è¯‘é€Ÿåº¦
- é€šè¿‡PDF.jsçš„æ–‡æœ¬å±‚å®ç°ç²¾ç¡®çš„å•è¯å®šä½

**3. ç»Ÿè®¡åŠŸèƒ½å…¨é¢ä¼˜åŒ–**
- æ–°å¢ç»Ÿè®¡ç»´åº¦ï¼šæ€»è¯æ±‡é‡ã€å·²æŒæ¡è¯æ±‡ã€æ¯æ—¥æ–°è¯
- æ–°å¢éš¾è¯åˆ†æï¼ˆå¤šæ¬¡æŸ¥è¯¢ä½†æœªæŒæ¡ï¼‰
- æ–°å¢é˜…è¯»è¿›åº¦ç»Ÿè®¡ï¼ˆè®ºæ–‡æ•°ã€æ—¶é•¿ã€é¡µæ•°ï¼‰
- æ–°å¢æ¯æ—¥æ´»åŠ¨å›¾è¡¨ï¼ˆæŸ±çŠ¶å›¾+æŠ˜çº¿å›¾ï¼‰
- æŒæ¡åº¦åˆ†å¸ƒï¼šé™Œç”Ÿ(0çº§) â†’ ç²¾é€š(5çº§)

**4. æ•°æ®ç®¡ç†åŠŸèƒ½**
- ä¸€é”®é‡ç½®ç”¨æˆ·æ•°æ®ï¼ˆè½¯é‡ç½®/å®Œå…¨é‡ç½®ï¼‰
- æ”¯æŒå¯¼å…¥ç†Ÿè¯ï¼ˆç²˜è´´æ–‡æœ¬æˆ–ä¸Šä¼ æ–‡ä»¶ï¼‰
- æ”¯æŒæ•°æ®å¯¼å‡ºä¸ºJSON

**5. é˜…è¯»å™¨ç•Œé¢ä¼˜åŒ–**
- æ›´å¤§çš„å·¥å…·æ ï¼ˆ50pxï¼‰
- æ›´å¤§çš„ç¿»è¯‘é¢æ¿ï¼ˆé»˜è®¤120pxï¼‰
- æ”¹è¿›çš„é…è‰²æ–¹æ¡ˆå’Œè§†è§‰å±‚æ¬¡
- å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»

**6. åç«¯æ¶æ„æ”¹è¿›**
- æ•°æ®åº“å¢å¼ºï¼šæ–°å¢å¤šä¸ªå­—æ®µæ”¯æŒæ–°åŠŸèƒ½
- è‡ªåŠ¨æ•°æ®åº“è¿ç§»ï¼Œå‘åå…¼å®¹
- æ–°å¢12ä¸ªAPIæ¥å£

**7. Bugä¿®å¤**
- ä¿®å¤SSLè¯ä¹¦éªŒè¯å¤±è´¥é—®é¢˜
- ä¿®å¤æ•°æ®åº“åˆ—ç¼ºå¤±é—®é¢˜
- ä¿®å¤API 405é”™è¯¯
- ä¿®å¤æ–‡æœ¬å±‚å®šä½ç²¾åº¦é—®é¢˜
- ä¿®å¤Statså›¾è¡¨æ—¶é—´çº¿æ–¹å‘é”™è¯¯
- ä¿®å¤å®Œå…¨é‡ç½®åŠŸèƒ½æœªæ¸…ç©ºæ•°æ®åº“çš„é—®é¢˜

**8. é…ç½®å˜æ›´**
- æ–°å¢ä¾èµ–ï¼š`arrow>=1.4.0`
- é»˜è®¤ä¸å†è‡ªåŠ¨ä¸‹è½½è®ºæ–‡ï¼Œä½¿ç”¨ `--fetch` å‚æ•°å¯ç”¨
- æ·»åŠ Windows SSLè¯ä¹¦éªŒè¯ä¿®å¤

### å¾…åŠäº‹é¡¹

- [ ] æ·»åŠ è®ºæ–‡æ”¶è—åŠŸèƒ½
- [ ] æ”¯æŒè‡ªå®šä¹‰åˆ†ç±»æ ‡ç­¾
- [ ] æ·»åŠ é˜…è¯»ä¹¦ç­¾åŠŸèƒ½
- [ ] æ”¯æŒå¤šè®¾å¤‡æ•°æ®åŒæ­¥
- [ ] æ·»åŠ å­¦ä¹ æŠ¥å‘Šå¯¼å‡ºï¼ˆPDF/Excelï¼‰

---

## å››ã€åŠŸèƒ½ç‰¹æ€§

### 4.1 è®ºæ–‡é˜…è¯»åŠŸèƒ½

#### 4.1.1 ç•Œé¢ç‰¹æ€§
- **æ¨¡æ€çª—å£é€‰æ‹©è®ºæ–‡**: æ”¯æŒæ‹–åŠ¨ã€ç¼©æ”¾ï¼Œä¸‰æ ‡ç­¾é¡µè®¾è®¡
- **æŠ¤çœ¼æ¨¡å¼**: è‰²æ¸©è°ƒèŠ‚ã€å¤œé—´æ¨¡å¼ã€ä¸»é¢˜åˆ‡æ¢
- **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡

#### 4.1.2 é˜…è¯»æ“ä½œ
- ç‚¹å‡»å·¦ä¾§åˆ†ç±»å±•å¼€è®ºæ–‡åˆ—è¡¨
- ç‚¹å‡»è®ºæ–‡æ ‡é¢˜åŠ è½½PDF
- é¼ æ ‡æ»šè½®ç¿»é¡µ
- å·¥å…·æ æ”¾å¤§/ç¼©å°

### 4.2 åˆ’è¯ç¿»è¯‘åŠŸèƒ½

#### 4.2.1 ç¿»è¯‘æ–¹å¼
- **ç‚¹å‡»ç¿»è¯‘**: ç‚¹å‡»PDFä¸­çš„ä»»æ„å•è¯å³å¯ç¿»è¯‘
- **å¿«æ·é”®ç¿»è¯‘**: Ctrl+M / âŒ˜+M
- **æ‰¹é‡ç¼“å­˜**: æ‰“å¼€PDFåè‡ªåŠ¨é¢„åŠ è½½æ‰€æœ‰å•è¯ç¿»è¯‘

#### 4.2.2 ç¿»è¯‘ä¿¡æ¯
- éŸ³æ ‡ï¼ˆè‹±å¼/ç¾å¼ï¼‰
- è¯æ€§æ ‡æ³¨
- ä¸­æ–‡é‡Šä¹‰
- æŸ¯æ—æ–¯æ˜Ÿçº§ï¼ˆ1-5æ˜Ÿï¼‰
- æŸ¥è¯¢æ¬¡æ•°ç»Ÿè®¡

### 4.3 å­¦ä¹ ç»Ÿè®¡åŠŸèƒ½

#### 4.3.1 ç»Ÿè®¡ç»´åº¦
- **ä»Šæ—¥æ¦‚è§ˆ**: é˜…è¯»è®ºæ–‡æ•°ã€æŸ¥è¯¢å•è¯æ•°ã€æŸ¥è¯¢æ¬¡æ•°ã€é˜…è¯»æ—¶é•¿
- **å­¦ä¹ æ›²çº¿**: 30å¤©è¯æ±‡å­¦ä¹ è¶‹åŠ¿
- **åˆ†ç±»ç»Ÿè®¡**: ä¸åŒå­¦ç§‘é¢†åŸŸçš„é˜…è¯»ç»Ÿè®¡
- **é«˜é¢‘å•è¯**: è¿‘æœŸæŸ¥è¯¢é¢‘ç‡æœ€é«˜çš„å•è¯

#### 4.3.2 æŒæ¡åº¦åˆ†çº§
| çº§åˆ« | è¯´æ˜ | æ¡ä»¶ |
|------|------|------|
| 0çº§ | é™Œç”Ÿ | é¦–æ¬¡æŸ¥è¯¢ |
| 1çº§ | åˆè¯† | å¤ä¹ 1æ¬¡ |
| 2çº§ | äº†è§£ | å¤ä¹ 2æ¬¡ |
| 3çº§ | ç†Ÿæ‚‰ | å¤ä¹ 3æ¬¡ |
| 4çº§ | æŒæ¡ | å¤ä¹ 4æ¬¡ |
| 5çº§ | ç²¾é€š | æ ‡è®°ä¸ºç†Ÿè¯ |

#### 4.3.3 è‰¾å®¾æµ©æ–¯å¤ä¹ 
æ ¹æ®è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿æ™ºèƒ½æ¨èå¤ä¹ ï¼š
- ç¬¬1æ¬¡å¤ä¹ ï¼š1å¤©å
- ç¬¬2æ¬¡å¤ä¹ ï¼š2å¤©å
- ç¬¬3æ¬¡å¤ä¹ ï¼š4å¤©å
- ç¬¬4æ¬¡å¤ä¹ ï¼š7å¤©å
- ç¬¬5æ¬¡å¤ä¹ ï¼š15å¤©å

### 4.4 è‡ªåŠ¨åŒ–åŠŸèƒ½

#### 4.4.1 åå°ä»»åŠ¡
- **è‡ªåŠ¨è·å–è®ºæ–‡**: æ¯6å°æ—¶ä»arXiv RSSè·å–
- **è‡ªåŠ¨å»é‡**: é¿å…é‡å¤ä¸‹è½½ç›¸åŒè®ºæ–‡
- **æ™ºèƒ½å­˜å‚¨**: æŒ‰åˆ†ç±»è‡ªåŠ¨ç»„ç»‡PDFæ–‡ä»¶

#### 4.4.2 æ•°æ®ç®¡ç†
- **è½¯é‡ç½®**: ä¿ç•™è®ºæ–‡å…ƒæ•°æ®ï¼Œæ¸…é™¤å­¦ä¹ è®°å½•
- **å®Œå…¨é‡ç½®**: æ¸…é™¤æ‰€æœ‰æ•°æ®åŒ…æ‹¬PDFæ–‡ä»¶
- **ç†Ÿè¯å¯¼å…¥**: æ”¯æŒæ‰¹é‡å¯¼å…¥å·²çŸ¥å•è¯

---

## äº”ã€API æ¥å£æ–‡æ¡£

### 5.1 åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8603`
- **Stats URL**: `http://localhost:8605`
- **Content-Type**: `application/json`

### 5.2 é¡µé¢è·¯ç”±

#### GET /
è¿”å›é˜…è¯»å™¨HTMLé¡µé¢ã€‚

#### GET /stats
è¿”å›ç»Ÿè®¡æ•°æ®HTMLé¡µé¢ã€‚

### 5.3 è®ºæ–‡ç›¸å…³API

#### GET /api/papers
è·å–æœ¬åœ°å¯ç”¨è®ºæ–‡åˆ—è¡¨ã€‚

**Response:**
```json
[
  {
    "id": "2501.12345",
    "category": "cs.AI",
    "filename": "2501.12345.pdf",
    "path": "cs.AI/2501.12345.pdf",
    "is_read": 1,
    "read_count": 3,
    "title": "Paper Title"
  }
]
```

#### POST /api/papers/search
æœç´¢è®ºæ–‡ã€‚

**Request Body:**
```json
{
  "query": "machine learning",
  "category": "cs.AI",
  "max_results": 10
}
```

**Response:**
```json
{
  "papers": [
    {
      "arxiv_id": "2501.12345",
      "title": "...",
      "authors": [...],
      "abstract": "...",
      "is_downloaded": false,
      "is_read": false
    }
  ]
}
```

#### POST /api/papers/download
ä¸‹è½½è®ºæ–‡ã€‚

**Request Body:**
```json
{
  "arxiv_id": "2501.12345",
  "category": "cs.AI"
}
```

**Response:**
```json
{
  "success": true,
  "arxiv_id": "2501.12345",
  "path": "cs.AI/2501.12345.pdf",
  "title": "Paper Title"
}
```

#### GET /api/papers/<arxiv_id>
è·å–è®ºæ–‡è¯¦æƒ…ã€‚

#### GET /api/categories
è·å–æ‰€æœ‰arXivåˆ†ç±»ã€‚

### 5.4 ç¿»è¯‘ç›¸å…³API

#### POST /api/translate
ç¿»è¯‘å•è¯ã€‚

**Request Body:**
```json
{
  "word": "algorithm",
  "context": "The algorithm runs in O(n log n) time",
  "session_id": "session_123456",
  "paper_id": "2501.12345",
  "category": "cs.AI"
}
```

**Response:**
```json
{
  "word": "algorithm",
  "translation": "éŸ³æ ‡ï¼š/ËˆÃ¦lÉ¡É™rÉªÃ°É™m/ã€‚é‡Šä¹‰ï¼šn. [è®¡] ç®—æ³•ï¼›è®¡ç®—ç¨‹åº",
  "context": "The algorithm runs in O(n log n) time"
}
```

#### POST /api/translate/batch
æ‰¹é‡ç¿»è¯‘ã€‚

**Request Body:**
```json
{
  "words": ["algorithm", "neural", "network"]
}
```

**Response:**
```json
{
  "words": {
    "algorithm": {
      "translation": "...",
      "phonetic": "...",
      "meaning": "...",
      "is_cached": true,
      "query_time_ms": 0.5
    }
  },
  "total": 3,
  "cached": 2
}
```

### 5.5 ä¼šè¯ç®¡ç†API

#### POST /api/session/start
å¼€å§‹é˜…è¯»ä¼šè¯ã€‚

**Request Body:**
```json
{
  "session_id": "session_123456",
  "paper_id": "2501.12345",
  "category": "cs.AI"
}
```

**Response:**
```json
{
  "session_id": "session_123456",
  "status": "started"
}
```

#### POST /api/session/end
ç»“æŸé˜…è¯»ä¼šè¯ã€‚

**Request Body:**
```json
{
  "session_id": "session_123456",
  "duration_seconds": 1800,
  "pages_read": 10
}
```

### 5.6 ç»Ÿè®¡æŸ¥è¯¢API

#### GET /api/daily?days=30
è·å–æ¯æ—¥ç»Ÿè®¡æ•°æ®ã€‚

**Response:**
```json
[
  {
    "date": "2026-02-06",
    "total_papers_read": 3,
    "total_words_queried": 42,
    "unique_words": 25,
    "repeat_query_rate": 40.5,
    "vocabulary_size": 156,
    "new_words": 5,
    "mastered_words": 20
  }
]
```

#### GET /api/stats/<query_type>
é€šç”¨ç»Ÿè®¡æŸ¥è¯¢ã€‚

**Query Types:**

1. **word_frequency** - å•è¯é¢‘ç‡ç»Ÿè®¡
   ```
   GET /api/stats/word_frequency?days=7&limit=20
   ```

2. **learning_curve** - å­¦ä¹ æ›²çº¿
   ```
   GET /api/stats/learning_curve?days=30
   ```

3. **category_stats** - åˆ†ç±»ç»Ÿè®¡
   ```
   GET /api/stats/category_stats
   ```

4. **mastery_distribution** - æŒæ¡åº¦åˆ†å¸ƒ
   ```
   GET /api/stats/mastery_distribution
   ```

5. **review_suggestions** - å¤ä¹ å»ºè®®
   ```
   GET /api/stats/review_suggestions?limit=20
   ```

6. **reading_progress** - é˜…è¯»è¿›åº¦
   ```
   GET /api/stats/reading_progress?days=30
   ```

7. **vocabulary_growth** - è¯æ±‡å¢é•¿
   ```
   GET /api/stats/vocabulary_growth
   ```

8. **difficult_words** - éš¾è¯åˆ†æ
   ```
   GET /api/stats/difficult_words?limit=20
   ```

### 5.7 ç”¨æˆ·æ•°æ®ç®¡ç†API

#### POST /api/user/reset
é‡ç½®ç”¨æˆ·æ•°æ®ã€‚

**Request Body:**
```json
{
  "type": "soft"  // "soft" æˆ– "hard"
}
```

#### POST /api/user/import-familiar
å¯¼å…¥ç†Ÿè¯ã€‚

**Request Body:**
```json
{
  "text": "algorithm neural network ...",
  "source": "import"
}
```

#### GET /api/user/familiar-words
è·å–ç†Ÿè¯åˆ—è¡¨ã€‚

---

## å…­ã€ä½¿ç”¨æŒ‡å—

### 6.1 å®‰è£…ä¸å¯åŠ¨

#### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 2. å‡†å¤‡è¯å…¸æ•°æ®

1. ä¸‹è½½ `ecdict.csv`ï¼ˆçº¦60MBï¼‰
2. æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•
3. æ„å»ºSQLiteæ•°æ®åº“ï¼š

```python
from paper_reader.translate import ECDict

tool = ECDict()
tool.build_db()  # é¦–æ¬¡è¿è¡Œéœ€è¦1-2åˆ†é’Ÿ
```

#### 3. å¯åŠ¨åº”ç”¨

```bash
cd paper_reader
python app.py
```

å¯åŠ¨æˆåŠŸåä¼šçœ‹åˆ°ï¼š
```
âœ“ æ•°æ®åº“åˆå§‹åŒ–å®Œæˆ
ğŸ“– é˜…è¯»å™¨å¯åŠ¨: http://localhost:8603
ğŸ“Š ç»Ÿè®¡æœåŠ¡å™¨å¯åŠ¨: http://localhost:8605
```

### 6.2 é˜…è¯»è®ºæ–‡

1. æ‰“å¼€ http://localhost:8603
2. ç‚¹å‡»"é€‰æ‹©è®ºæ–‡"æŒ‰é’®
3. åœ¨æ¨¡æ€çª—å£ä¸­æµè§ˆæˆ–æœç´¢è®ºæ–‡
4. ç‚¹å‡»è®ºæ–‡æ ‡é¢˜åŠ è½½PDF
5. ä½¿ç”¨é¼ æ ‡æ»šè½®ç¿»é¡µ
6. ç‚¹å‡»ä»»æ„å•è¯æŸ¥çœ‹ç¿»è¯‘

### 6.3 åˆ’è¯ç¿»è¯‘

**åŸºæœ¬ç”¨æ³•**:
1. ç”¨é¼ æ ‡ç‚¹å‡»PDFä¸­çš„ä»»æ„å•è¯
2. æŸ¥çœ‹ç¿»è¯‘ã€éŸ³æ ‡ã€è¯æ€§

**å¿«æ·é”®**:
- `Ctrl+M` (Windows/Linux)
- `âŒ˜+M` (macOS)

### 6.4 æŸ¥çœ‹å­¦ä¹ ç»Ÿè®¡

1. æ‰“å¼€ http://localhost:8605
2. æŸ¥çœ‹ä»Šæ—¥å­¦ä¹ æ¦‚è§ˆ
3. æµè§ˆå­¦ä¹ æ›²çº¿å’Œåˆ†ç±»ç»Ÿè®¡
4. æŸ¥çœ‹å¤ä¹ å»ºè®®å¹¶æ ‡è®°å·²å¤ä¹ 

### 6.5 æŠ¤çœ¼è®¾ç½®

- **è‰²æ¸©è°ƒèŠ‚**: æ‹–åŠ¨"è‰²æ¸©"æ»‘å—ï¼ˆå†·è‰²/æš–è‰²ï¼‰
- **ä¸»é¢˜åˆ‡æ¢**: ç‚¹å‡» ğŸŒ™ æŒ‰é’®åˆ‡æ¢æ—¥é—´/å¤œé—´/æŠ¤çœ¼æ¨¡å¼

### 6.6 æ•°æ®ç®¡ç†

**é‡ç½®æ•°æ®**:
1. è¿›å…¥ç»Ÿè®¡é¡µé¢
2. ç‚¹å‡»"æ•°æ®ç®¡ç†"
3. é€‰æ‹©"ä»…é‡ç½®å­¦ä¹ è®°å½•"æˆ–"å®Œå…¨é‡ç½®"

**å¯¼å…¥ç†Ÿè¯**:
1. è¿›å…¥ç»Ÿè®¡é¡µé¢
2. ç‚¹å‡»"å¯¼å…¥ç†Ÿè¯"
3. ç²˜è´´åŒ…å«è‹±æ–‡å•è¯çš„æ–‡æœ¬
4. ç³»ç»Ÿè‡ªåŠ¨æå–å¹¶æ ‡è®°ä¸ºç†Ÿæ‚‰

---

## ä¸ƒã€å¼€å‘è§„èŒƒ

### 7.1 ä»£ç é£æ ¼

#### éµå¾ª PEP 8
- ä½¿ç”¨4ç©ºæ ¼ç¼©è¿›
- è¡Œé•¿åº¦ä¸è¶…è¿‡100å­—ç¬¦
- å‡½æ•°å’Œå˜é‡ä½¿ç”¨å°å†™+ä¸‹åˆ’çº¿å‘½å

#### æ–‡æ¡£å­—ç¬¦ä¸² (Google Style)
```python
def function_name(param1, param2):
    """
    å‡½æ•°ç®€è¦è¯´æ˜
    
    Args:
        param1: å‚æ•°1è¯´æ˜
        param2: å‚æ•°2è¯´æ˜
        
    Returns:
        è¿”å›å€¼è¯´æ˜
        
    Raises:
        ValueError: å¼‚å¸¸è¯´æ˜
    """
    pass
```

#### ç±»å‹æ³¨è§£
```python
from typing import Optional, List, Dict, Any

def search(word: str, limit: int = 10) -> Optional[Dict[str, Any]]:
    pass
```

### 7.2 Git æäº¤è§„èŒƒ

#### æäº¤ä¿¡æ¯æ ¼å¼
```
<type>: <subject>

<body>

<footer>
```

#### Type ç±»å‹
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤
- `docs`: æ–‡æ¡£
- `style`: æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `test`: æµ‹è¯•
- `chore`: æ„å»º/å·¥å…·

#### ç¤ºä¾‹
```
feat: æ·»åŠ  IEEE è®ºæ–‡æºæ”¯æŒ

- å®ç° IEEEFetcher ç±»
- æ·»åŠ é…ç½®é¡¹
- æ›´æ–°æ–‡æ¡£

Closes #123
```

### 7.3 æµ‹è¯•è§„èŒƒ

```python
# tests/test_translate.py
import unittest
from paper_reader.translate import ECDict

class TestECDict(unittest.TestCase):
    
    def setUp(self):
        self.dict = ECDict()
    
    def test_search_existing_word(self):
        result = self.dict.search('hello')
        self.assertIsNotNone(result)
        self.assertEqual(result['word'], 'hello')

if __name__ == '__main__':
    unittest.main()
```

### 7.4 æ‰©å±•å¼€å‘

#### æ·»åŠ æ–°çš„æ•°æ®æº
```python
# paper_reader/ieee_fetcher.py
import requests

class IEEEFetcher:
    """IEEE Xplore è®ºæ–‡è·å–å™¨"""
    
    def __init__(self, api_key, delay=5):
        self.api_key = api_key
        self.base_url = "http://ieeexploreapi.ieee.org/api/v1/search/articles"
    
    def search(self, query, max_results=10):
        params = {
            'apikey': self.api_key,
            'querytext': query,
            'max_results': max_results,
            'format': 'json'
        }
        response = requests.get(self.base_url, params=params)
        return response.json()
```

#### æ·»åŠ æ–°çš„ç¿»è¯‘æœåŠ¡
```python
# paper_reader/translators/youdao.py
import requests
import hashlib
import random

class YoudaoTranslator:
    """æœ‰é“ç¿»è¯‘ API"""
    
    def translate(self, text, from_lang='en', to_lang='zh-CHS'):
        salt = random.randint(1, 65536)
        sign_str = self.app_key + text + str(salt) + self.app_secret
        sign = hashlib.md5(sign_str.encode()).hexdigest()
        # ... å®ç°ç¿»è¯‘é€»è¾‘
```

---

## å…«ã€éƒ¨ç½²æŒ‡å—

### 8.1 ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### ä½¿ç”¨ Gunicorn
```bash
pip install gunicorn
gunicorn -w 4 -b 0.0.0.0:8603 "paper_reader.app:app"
```

#### ä½¿ç”¨ Nginx åå‘ä»£ç†
```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:8603;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

#### ä½¿ç”¨ Supervisor ç®¡ç†è¿›ç¨‹
```ini
[program:paper-reader]
command=/path/to/venv/bin/gunicorn -w 4 -b 0.0.0.0:8603 "paper_reader.app:app"
directory=/path/to/paper_reader
user=www-data
autostart=true
autorestart=true
```

### 8.2 ç¦»çº¿éƒ¨ç½²

å¦‚éœ€åœ¨å†…ç½‘æˆ–ç¦»çº¿ç¯å¢ƒä½¿ç”¨ï¼Œéœ€è¦ä¸‹è½½å‰ç«¯ä¾èµ–åˆ°æœ¬åœ°ï¼š

```bash
# åˆ›å»ºç›®å½•
mkdir -p paper_reader/static/lib/pdfjs
mkdir -p paper_reader/static/lib/chartjs

# ä¸‹è½½ PDF.js
curl -o paper_reader/static/lib/pdfjs/pdf.min.js \
  https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js

# ä¸‹è½½ Chart.js
curl -o paper_reader/static/lib/chartjs/chart.umd.min.js \
  https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js
```

ä¿®æ”¹æ¨¡æ¿å¼•ç”¨ï¼š
```html
<!-- reader.html -->
<script src="{{ url_for('static', filename='lib/pdfjs/pdf.min.js') }}"></script>

<!-- stats.html -->
<script src="{{ url_for('static', filename='lib/chartjs/chart.umd.min.js') }}"></script>
```

---

## ä¹ã€æ•…éšœæ’æŸ¥

### 9.1 SSLè¯ä¹¦éªŒè¯å¤±è´¥

**é”™è¯¯**: `[SSL: CERTIFICATE_VERIFY_FAILED]`

**è§£å†³æ–¹æ¡ˆ**:
1. æ›´æ–°certifi: `pip install --upgrade certifi`
2. ç¨‹åºå·²å†…ç½®è‡ªåŠ¨ä¿®å¤ï¼Œä¼šè‡ªåŠ¨å°è¯•å¤‡ç”¨ä¸‹è½½æ–¹æ³•
3. æ›´æ–°ç³»ç»Ÿæ ¹è¯ä¹¦

### 9.2 è¯å…¸æ•°æ®åº“æ„å»ºå¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®ä¿ `ecdict.csv` æ–‡ä»¶å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®
2. ç¡®ä¿ç£ç›˜ç©ºé—´å……è¶³ï¼ˆéœ€è¦çº¦100MBï¼‰
3. å°è¯•å‡å° `batch_size`:
   ```python
   tool.build_db(batch_size=1000)
   ```

### 9.3 PDFæ— æ³•åŠ è½½

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `pdfs/` ç›®å½•æ˜¯å¦å­˜åœ¨å¯¹åº”æ–‡ä»¶
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰è·¨åŸŸé”™è¯¯
3. ä½¿ç”¨æ”¯æŒçš„æµè§ˆå™¨ï¼ˆChrome/Firefox/Edgeï¼‰

### 9.4 ç¿»è¯‘åŠŸèƒ½ä¸å·¥ä½œ

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `ecdict.db` æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ç½‘ç»œé”™è¯¯
3. é‡å¯åº”ç”¨æœåŠ¡

### 9.5 æ•°æ®å¤‡ä»½ä¸æ¢å¤

**å¤‡ä»½**:
```bash
# å¤åˆ¶æ•°æ®åº“æ–‡ä»¶
cp db/reading_stats.db backup/reading_stats_$(date +%Y%m%d).db
```

**æ¢å¤**:
```bash
# æ›¿æ¢æ•°æ®åº“æ–‡ä»¶
cp backup/reading_stats_20260207.db db/reading_stats.db
```

---

## ğŸ“ è”ç³»æ–¹å¼

- **ä½œè€…**: [raditree](https://github.com/raditree)
- **é¡¹ç›®ä¸»é¡µ**: [GitHub Repository](https://github.com/raditree/EnglishPaperReader)
- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/raditree/EnglishPaperReader/issues)

---

**Made with â¤ï¸ by raditree**  
**Version: v1.0.0**  
**License: MIT**
